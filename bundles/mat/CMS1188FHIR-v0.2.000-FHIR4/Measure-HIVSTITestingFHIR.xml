<Measure xmlns="http://hl7.org/fhir">
   <id value="HIVSTITestingFHIR"/>
   <meta>
      <profile value="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm"/>
      <profile value="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/publishable-measure-cqfm"/>
      <profile value="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/executable-measure-cqfm"/>
   </meta>
   <contained>
      <Library xmlns="http://hl7.org/fhir">
         <id value="effective-data-requirements"/>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode">
            <valueCoding>
               <system value="http://hl7.org/fhir/administrative-gender"/>
               <code value="M"/>
               <display value="Male"/>
            </valueCoding>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode">
            <valueCoding>
               <system value="http://hl7.org/fhir/administrative-gender"/>
               <code value="F"/>
               <display value="Female"/>
            </valueCoding>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="SupplementalDataElements"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Sex"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Sex&amp;quot;:   case     when Patient.gender = &amp;#39;male&amp;#39; then &amp;quot;M&amp;quot;     when Patient.gender = &amp;#39;female&amp;#39; then &amp;quot;F&amp;quot;     else null   end"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="0"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Sex"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Sex&amp;quot;:   SDE.&amp;quot;SDE Sex&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="1"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Has Chlamydia Testing"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Has Chlamydia Testing&amp;quot;:   exists [&amp;quot;Observation&amp;quot;: &amp;quot;Chlamydia Screening&amp;quot;] ChlamydiaTest     where ChlamydiaTest.value is not null       and ChlamydiaTest.status in { &amp;#39;final&amp;#39;, &amp;#39;amended&amp;#39;, &amp;#39;corrected&amp;#39; }       and ChlamydiaTest.effective.latest ( ) during day of &amp;quot;Measurement Period&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="2"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Has Gonorrhea Testing"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Has Gonorrhea Testing&amp;quot;:   exists [&amp;quot;Observation&amp;quot;: &amp;quot;Gonorrhea Screening&amp;quot;] GonorrheaTest     where GonorrheaTest.value is not null       and GonorrheaTest.status in { &amp;#39;final&amp;#39;, &amp;#39;amended&amp;#39;, &amp;#39;corrected&amp;#39; }       and GonorrheaTest.effective.latest ( ) during day of &amp;quot;Measurement Period&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="3"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Has Syphilis Testing"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Has Syphilis Testing&amp;quot;:   exists [&amp;quot;Observation&amp;quot;: &amp;quot;Syphilis Tests&amp;quot;] SyphilisTest     where SyphilisTest.value is not null       and SyphilisTest.status in { &amp;#39;final&amp;#39;, &amp;#39;amended&amp;#39;, &amp;#39;corrected&amp;#39; }       and SyphilisTest.effective.latest ( ) during day of &amp;quot;Measurement Period&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="4"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Numerator"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Numerator&amp;quot;:   &amp;quot;Has Chlamydia Testing&amp;quot;     and &amp;quot;Has Gonorrhea Testing&amp;quot;     and &amp;quot;Has Syphilis Testing&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="5"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Has Qualifying Encounter During Measurement Period"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Has Qualifying Encounter During Measurement Period&amp;quot;: /*Note: applied workaround using value set &amp;#39;Preventive Care Services Other&amp;#39;, as a DRC cannot be used directly from an encounter retrieve; additional info can be found in CQLIT-368*/      exists ( ( [&amp;quot;Encounter&amp;quot;: &amp;quot;Office Visit&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Outpatient Consultation&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Annual Wellness Visit&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Face-to-Face Interaction&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Home Healthcare Services&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Preventive Care Services Established Office Visit, 18 and Up&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Preventive Care Services Initial Office Visit, 18 and Up&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Preventive Care Services, Initial Office Visit, 0 to 17&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Preventive Care, Established Office Visit, 0 to 17&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Telephone Visits&amp;quot;]       union [&amp;quot;Encounter&amp;quot;: &amp;quot;Preventive Care Services Other&amp;quot;] ) QualifyingEncounter       where QualifyingEncounter.period during day of &amp;quot;Measurement Period&amp;quot;   )"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="6"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Has HIV Diagnosis Before End of Measurement Period"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Has HIV Diagnosis Before End of Measurement Period&amp;quot;:   exists [&amp;quot;Condition&amp;quot;: &amp;quot;HIV&amp;quot;] HIVDx     where HIVDx.prevalenceInterval ( ) starts on or before day of end of &amp;quot;Measurement Period&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="7"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Initial Population"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Initial Population&amp;quot;:   AgeInYearsAt(date from start of &amp;quot;Measurement Period&amp;quot;) &amp;gt;= 13     and &amp;quot;Has Qualifying Encounter During Measurement Period&amp;quot;     and &amp;quot;Has HIV Diagnosis Before End of Measurement Period&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="8"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="Denominator"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;Denominator&amp;quot;:   &amp;quot;Initial Population&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="9"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="SupplementalDataElements"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Payer"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Payer&amp;quot;:   [Coverage: type in &amp;quot;Payer Type&amp;quot;] Payer     return {       code: Payer.type,       period: Payer.period     }"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="10"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Payer"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Payer&amp;quot;:   SDE.&amp;quot;SDE Payer&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="11"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="SupplementalDataElements"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Ethnicity"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Ethnicity&amp;quot;:   Patient.ethnicity E     return Tuple {       codes: { E.ombCategory } union E.detailed,       display: E.text     }"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="12"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Ethnicity"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Ethnicity&amp;quot;:   SDE.&amp;quot;SDE Ethnicity&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="13"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="SupplementalDataElements"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Race"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Race&amp;quot;:   Patient.race R     return Tuple {       codes: R.ombCategory union R.detailed,       display: R.text     }"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="14"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="HIVSTITestingFHIR"/>
            </extension>
            <extension url="name">
               <valueString value="SDE Race"/>
            </extension>
            <extension url="statement">
               <valueString value="define &amp;quot;SDE Race&amp;quot;:   SDE.&amp;quot;SDE Race&amp;quot;"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="15"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="QICoreCommon"/>
            </extension>
            <extension url="name">
               <valueString value="latest"/>
            </extension>
            <extension url="statement">
               <valueString value="/* @description: Given an interval, returns the ending point if the interval has an ending boundary specified, otherwise, returns the starting point */ define fluent function latest(choice Choice&amp;lt;DateTime, Quantity, Interval&amp;lt;DateTime&amp;gt;, Interval&amp;lt;Quantity&amp;gt;&amp;gt; ):   (choice.toInterval()) period     return       if (period.&amp;quot;hasEnd&amp;quot;()) then end of period       else start of period"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="16"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="QICoreCommon"/>
            </extension>
            <extension url="name">
               <valueString value="prevalenceInterval"/>
            </extension>
            <extension url="statement">
               <valueString value="/* @description: Returns an interval representing the normalized prevalence period of a given Condition. @comment: Uses the ToInterval and ToAbatementInterval functions to determine the widest potential interval from onset to abatement as specified in the given Condition. If the condition is active, or has an abatement date the resulting  interval will have a closed ending boundary. Otherwise, the resulting interval will have an open ending boundary. */ define fluent function prevalenceInterval(condition Condition): if condition.clinicalStatus ~ &amp;quot;active&amp;quot;   or condition.clinicalStatus ~ &amp;quot;recurrence&amp;quot;   or condition.clinicalStatus ~ &amp;quot;relapse&amp;quot; then   Interval[start of condition.onset.toInterval(), end of condition.abatementInterval()] else     (end of condition.abatementInterval()) abatementDate     return if abatementDate is null then       Interval[start of condition.onset.toInterval(), abatementDate)     else       Interval[start of condition.onset.toInterval(), abatementDate]"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="17"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="FHIRHelpers"/>
            </extension>
            <extension url="name">
               <valueString value="ToString"/>
            </extension>
            <extension url="statement">
               <valueString value="define function ToString(value uri): value.value"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="18"/>
            </extension>
         </extension>
         <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
            <extension url="libraryName">
               <valueString value="FHIRHelpers"/>
            </extension>
            <extension url="name">
               <valueString value="ToCode"/>
            </extension>
            <extension url="statement">
               <valueString value="/* @description: Converts the given FHIR [Coding](https://hl7.org/fhir/datatypes.html#Coding) value to a CQL Code. */ define function ToCode(coding FHIR.Coding):     if coding is null then         null     else         System.Code {           code: coding.code.value,           system: coding.system.value,           version: coding.version.value,           display: coding.display.value         }"/>
            </extension>
            <extension url="displaySequence">
               <valueString value="19"/>
            </extension>
         </extension>
         <status value="active"/>
         <type>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/library-type"/>
               <code value="module-definition"/>
            </coding>
         </type>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Library SDE"/>
            <resource value="Library/SupplementalDataElements|3.5.000"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Library FHIRHelpers"/>
            <resource value="Library/FHIRHelpers|4.4.000"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Library QICoreCommon"/>
            <resource value="Library/QICoreCommon|2.1.000"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Code system AdministrativeGender"/>
            <resource value="http://hl7.org/fhir/administrative-gender"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Chlamydia Screening"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1052"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Gonorrhea Screening"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1258.1"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Syphilis Tests"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1166.117"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Office Visit"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Outpatient Consultation"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Annual Wellness Visit"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1240"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Face-to-Face Interaction"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1048"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Home Healthcare Services"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Preventive Care Services Established Office Visit, 18 and Up"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1025"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Preventive Care Services Initial Office Visit, 18 and Up"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1023"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Preventive Care Services, Initial Office Visit, 0 to 17"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Preventive Care, Established Office Visit, 0 to 17"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Telephone Visits"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1080"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Preventive Care Services Other"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.11.1150"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set HIV"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"/>
         </relatedArtifact>
         <relatedArtifact>
            <type value="depends-on"/>
            <display value="Value set Payer Type"/>
            <resource value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"/>
         </relatedArtifact>
         <parameter>
            <name value="Measurement Period"/>
            <use value="in"/>
            <min value="0"/>
            <max value="1"/>
            <type value="Period"/>
         </parameter>
         <parameter>
            <name value="Numerator"/>
            <use value="out"/>
            <min value="0"/>
            <max value="1"/>
            <type value="boolean"/>
         </parameter>
         <parameter>
            <name value="Denominator"/>
            <use value="out"/>
            <min value="0"/>
            <max value="1"/>
            <type value="boolean"/>
         </parameter>
         <parameter>
            <name value="Initial Population"/>
            <use value="out"/>
            <min value="0"/>
            <max value="1"/>
            <type value="boolean"/>
         </parameter>
         <parameter>
            <name value="SDE Sex"/>
            <use value="out"/>
            <min value="0"/>
            <max value="1"/>
            <type value="Coding"/>
         </parameter>
         <parameter>
            <name value="SDE Payer"/>
            <use value="out"/>
            <min value="0"/>
            <max value="*"/>
            <type value="Resource"/>
         </parameter>
         <parameter>
            <name value="SDE Ethnicity"/>
            <use value="out"/>
            <min value="0"/>
            <max value="1"/>
            <type value="Resource"/>
         </parameter>
         <parameter>
            <name value="SDE Race"/>
            <use value="out"/>
            <min value="0"/>
            <max value="1"/>
            <type value="Resource"/>
         </parameter>
         <dataRequirement>
            <type value="Patient"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient"/>
            <mustSupport value="gender"/>
            <mustSupport value="gender.value"/>
            <mustSupport value="url"/>
            <mustSupport value="extension"/>
         </dataRequirement>
         <dataRequirement>
            <type value="Observation"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation"/>
            <mustSupport value="code"/>
            <mustSupport value="value"/>
            <mustSupport value="status"/>
            <mustSupport value="status.value"/>
            <mustSupport value="effective"/>
            <codeFilter>
               <path value="code"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1052"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Observation"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation"/>
            <mustSupport value="code"/>
            <mustSupport value="value"/>
            <mustSupport value="status"/>
            <mustSupport value="status.value"/>
            <mustSupport value="effective"/>
            <codeFilter>
               <path value="code"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1258.1"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Observation"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation"/>
            <mustSupport value="code"/>
            <mustSupport value="value"/>
            <mustSupport value="status"/>
            <mustSupport value="status.value"/>
            <mustSupport value="effective"/>
            <codeFilter>
               <path value="code"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1166.117"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1240"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1048"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1025"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1023"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1080"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.11.1150"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Condition"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition"/>
            <mustSupport value="code"/>
            <codeFilter>
               <path value="code"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"/>
            </codeFilter>
         </dataRequirement>
         <dataRequirement>
            <type value="Coverage"/>
            <profile value="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage"/>
            <mustSupport value="type"/>
            <mustSupport value="period"/>
            <codeFilter>
               <path value="type"/>
               <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"/>
            </codeFilter>
         </dataRequirement>
      </Library>
   </contained>
   <extension id="supplementalDataGuidance" url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-supplementalDataGuidance">
      <extension url="guidance">
         <valueString value="For every patient evaluated by this measure also identify payer, race, ethnicity and sex   "/>
      </extension>
      <extension url="usage">
         <valueCodeableConcept>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-data-usage"/>
               <code value="supplemental-data"/>
               <display value="Supplemental Data"/>
            </coding>
            <text value="Supplemental Data Guidance"/>
         </valueCodeableConcept>
      </extension>
   </extension>
   <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements">
      <valueReference>
         <reference value="#effective-data-requirements"/>
      </valueReference>
   </extension>
   <url value="https://madie.cms.gov/Measure/HIVSTITestingFHIR"/>
   <identifier>
      <use value="usual"/>
      <type>
         <coding>
            <system value="http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type"/>
            <code value="short-name"/>
         </coding>
      </type>
      <system value="https://madie.cms.gov/measure/shortName"/>
      <value value="CMS1188FHIR"/>
   </identifier>
   <identifier>
      <use value="official"/>
      <type>
         <coding>
            <system value="http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type"/>
            <code value="version-independent"/>
         </coding>
      </type>
      <system value="urn:ietf:rfc:3986"/>
      <value value="urn:uuid:6f66ca77-1a2c-489c-b0d8-730da6e5a763"/>
   </identifier>
   <identifier>
      <use value="official"/>
      <type>
         <coding>
            <system value="http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type"/>
            <code value="version-specific"/>
         </coding>
      </type>
      <system value="urn:ietf:rfc:3986"/>
      <value value="urn:uuid:ca1ad24d-a2c3-4f64-8de5-e319c5e85ae4"/>
   </identifier>
   <identifier>
      <use value="official"/>
      <type>
         <coding>
            <system value="http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type"/>
            <code value="publisher"/>
         </coding>
      </type>
      <system value="https://madie.cms.gov/measure/cmsId"/>
      <value value="1188FHIR"/>
      <assigner>
         <display value="CMS"/>
      </assigner>
   </identifier>
   <version value="0.2.000"/>
   <name value="HIVSTITestingFHIR"/>
   <title value="Sexually Transmitted Infection (STI) Testing for People with HIVFHIR"/>
   <status value="draft"/>
   <experimental value="false"/>
   <date value="2024-05-03T16:08:23+00:00"/>
   <publisher value="Health Resources &amp; Services Administration"/>
   <contact>
      <telecom>
         <system value="url"/>
         <value value=" https://www.hrsa.gov/"/>
      </telecom>
   </contact>
   <description value="Percentage of patients 13 years of age and older with a diagnosis of HIV who had tests for syphilis, gonorrhea, and chlamydia performed within the measurement period"/>
   <purpose value="UNKNOWN"/>
   <usage value="This eCQM is a patient-based measure.  This FHIR-based measure has been derived from the QDM-based measure: CMS1188v2.  Please refer to the HL7 QI-Core Implementation Guide (https://hl7.org/fhir/us/qicore/STU4.1.1/) for more information on QI-Core and mapping recommendations from QDM to QI-Core 4.1.1 (https://hl7.org/fhir/us/qicore/STU4.1.1/qdm-to-qicore.html)"/>
   <copyright value="This measure was developed by the Health Resources &amp; Services Administration (HRSA) of the U.S. Department of Health &amp; Human Services (HHS). It is in the public domain.   Citation of HRSA as the source of the original measure is appreciated. Any modified versions may not be represented as approved, endorsed, or authorized by HRSA or HHS. 42 U.S.C. Section 1320b-10. Users of modified versions should clearly explain how they deviate from HRSA's original measure.  Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets.   CPT(R) contained in the Measure specifications is copyright 2004-2023 American Medical Association. LOINC(R) is copyright 2004-2023 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 is copyright 2023 World Health Organization. All Rights Reserved.  Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM]."/>
   <effectivePeriod>
      <start value="2025-01-01"/>
      <end value="2025-12-31"/>
   </effectivePeriod>
   <author>
      <name value="Health Resources &amp; Services Administration"/>
      <telecom>
         <system value="url"/>
         <value value=" https://www.hrsa.gov/"/>
      </telecom>
   </author>
   <library value="https://madie.cms.gov/Library/HIVSTITestingFHIR"/>
   <disclaimer value="These performance measures are not clinical guidelines and do not establish a standard of medical care, and have not been tested for all potential applications.  THE MEASURES AND SPECIFICATIONS ARE PROVIDED &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND.  Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM]."/>
   <rationale value="The rates of syphilis, gonorrhea, and chlamydia cases per 100,000 in the United States have steadily risen over the last decade and increased 11.2 percent, 5.9 percent, and 2.8 percent, respectively, from 2018 to 2019 (DHHS, 2021). People with HIV are at an increased risk of bacterial sexually transmitted infections (STIs), including chlamydia, gonorrhea, and syphilis (Centers for Disease Control and Prevention [CDC], 2004). However, early detection and treatment of bacterial STIs in people with HIV can lead to a reduction in HIV transmission (CDC, 2004). Despite guidelines for at least annual screening among sexually active persons with HIV, only an estimated 55 percent received a syphilis test in the past year, 23 percent received a gonorrhea test in the past year, and 24 percent received a chlamydia test in the past year based on a nationally-representative survey of adults with HIV receiving medical care in the United States (Flagg et al., 2015). This measure will help providers focus their attention and quality improvement efforts towards testing and treating sexually transmitted infections in patients with HIV, thus reducing the complications to long-term syphilis infection and reducing STI incidence (Patel et al., 2012)."/>
   <clinicalRecommendationStatement value="&quot;Routine serologic screening for syphilis is recommended at least annually for all persons with HIV infection who are sexually active, with more frequent screening (i.e., every 3-6 months) for those who have multiple or anonymous partners&quot; (Panel on Opportunistic Infections in Adults and Adolescents with HIV, 2022, p. Y-3).  &quot;Patients undergoing screening or treatment for syphilis also should be evaluated for other sexually transmitted diseases such as chlamydia and gonorrhea at anatomic sites of exposure in men and for chlamydia, gonorrhea, and trichomonas in women&quot; (Panel on Opportunistic Infections in Adults and Adolescents with HIV, 2022, p. Y-3).  &quot;The [United States Preventive Services Task Force (USPSTF)] recommends screening for syphilis in persons who are at increased risk for infection. When deciding which persons to screen for syphilis, clinicians should consider the prevalence of infection in the communities they serve, as well as other sociodemographic and behavioral factors that may be associated with increased risk of syphilis infection. For example, prevalence of syphilis is higher in men, men who have sex with men, persons with HIV infection, young adults, and persons with a history of incarceration, sex work, or military service…. Optimal screening frequency for persons who are at increased risk for syphilis infection is not well established. Men who have sex with men or persons with HIV infection may benefit from screening at least annually or more frequently (e.g., every 3 to 6 months) if they continue to be at high risk&quot; (USPSTF, 2022, p. 1244-1246).  &quot;At the initial HIV care visit, providers should screen all sexually active persons for syphilis, gonorrhea, and chlamydia, and perform screening for these infections at least annually during the course of HIV care. Specific testing includes syphilis serology and [a nucleic acid amplification test] NAAT for N. gonorrhoeae and C. trachomatis at the anatomic site of exposure&quot; (Workowski et al., 2021, p. 26)."/>
   <group id="64f8f7f7da013638e7b3d9df">
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-scoring">
         <valueCodeableConcept>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-scoring"/>
               <code value="proportion"/>
               <display value="Proportion"/>
            </coding>
         </valueCodeableConcept>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis">
         <valueCode value="boolean"/>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-type">
         <valueCodeableConcept>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-type"/>
               <code value="process"/>
               <display value="Process"/>
            </coding>
         </valueCodeableConcept>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-rateAggregation">
         <valueCode value="None"/>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-improvementNotation">
         <valueCodeableConcept>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-improvement-notation"/>
               <code value="decrease"/>
               <display value="increase"/>
            </coding>
         </valueCodeableConcept>
      </extension>
      <population id="250DDEF3-2C5A-44DA-BFB9-69734554ACF4">
         <code>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-population"/>
               <code value="initial-population"/>
               <display value="Initial Population"/>
            </coding>
         </code>
         <description value="All patients 13 years of age and older at the start of the measurement period with an eligible encounter during the measurement period with a diagnosis of HIV before the end of the measurement period"/>
         <criteria>
            <language value="text/cql-identifier"/>
            <expression value="Initial Population"/>
         </criteria>
      </population>
      <population id="10249168-FCAB-4E5C-AE8E-3D94C9E5BEE7">
         <code>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-population"/>
               <code value="denominator"/>
               <display value="Denominator"/>
            </coding>
         </code>
         <description value="Equals Initial Population"/>
         <criteria>
            <language value="text/cql-identifier"/>
            <expression value="Denominator"/>
         </criteria>
      </population>
      <population id="3C47B2A0-999A-43F1-AF6E-359AC843FD67">
         <code>
            <coding>
               <system value="http://terminology.hl7.org/CodeSystem/measure-population"/>
               <code value="numerator"/>
               <display value="Numerator"/>
            </coding>
         </code>
         <description value="Patients who were tested for each of the following at least once during the measurement period: chlamydia, gonorrhea, and syphilis"/>
         <criteria>
            <language value="text/cql-identifier"/>
            <expression value="Numerator"/>
         </criteria>
      </population>
   </group>
   <supplementalData id="sde-ethnicity">
      <usage>
         <coding>
            <system value="http://terminology.hl7.org/CodeSystem/measure-data-usage"/>
            <code value="supplemental-data"/>
         </coding>
      </usage>
      <description value="SDE Ethnicity"/>
      <criteria>
         <language value="text/cql-identifier"/>
         <expression value="SDE Ethnicity"/>
      </criteria>
   </supplementalData>
   <supplementalData id="sde-payer">
      <usage>
         <coding>
            <system value="http://terminology.hl7.org/CodeSystem/measure-data-usage"/>
            <code value="supplemental-data"/>
         </coding>
      </usage>
      <description value="SDE Payer"/>
      <criteria>
         <language value="text/cql-identifier"/>
         <expression value="SDE Payer"/>
      </criteria>
   </supplementalData>
   <supplementalData id="sde-sex">
      <usage>
         <coding>
            <system value="http://terminology.hl7.org/CodeSystem/measure-data-usage"/>
            <code value="supplemental-data"/>
         </coding>
      </usage>
      <description value="SDE Sex"/>
      <criteria>
         <language value="text/cql-identifier"/>
         <expression value="SDE Sex"/>
      </criteria>
   </supplementalData>
   <supplementalData id="sde-race">
      <usage>
         <coding>
            <system value="http://terminology.hl7.org/CodeSystem/measure-data-usage"/>
            <code value="supplemental-data"/>
         </coding>
      </usage>
      <description value="SDE Race"/>
      <criteria>
         <language value="text/cql-identifier"/>
         <expression value="SDE Race"/>
      </criteria>
   </supplementalData>
</Measure>